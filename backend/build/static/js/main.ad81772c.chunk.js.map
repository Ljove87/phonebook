{"version":3,"sources":["components/Person.js","components/Filter.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Person","person","deletePerson","className","name","number","type","onClick","id","Filter","value","onChange","htmlFor","event","target","placeholder","Notificaiton","message","isError","style","color","border","borderRadius","fontSize","padding","backgroundColor","margin","baseUrl","getAll","axios","get","create","newPerson","a","post","response","data","update","request","put","del","delete","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","filter","setNewFilter","errorMsg","setErrorMsg","updatePersonAndNumber","personNewName","find","p","personNewNumber","n","window","confirm","personService","then","updatedPerson","map","catch","error","console","log","useEffect","filteredPersons","toLowerCase","indexOf","concat","Notification","onSubmit","e","preventDefault","length","setTimeout","key","deletePersonId","ReactDOM","render","document","getElementById"],"mappings":"4PAwBeA,G,MArBA,SAAC,GAA6B,IAA5BC,EAA2B,EAA3BA,OAAQC,EAAmB,EAAnBA,aACrB,OACI,yBAAKC,UAAU,QACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,qBACbF,EAAOG,KADT,KACiBH,EAAOI,QAGxB,yBAAKF,UAAU,YACf,4BAAQG,KAAK,SAASH,UAAU,6BAA6BI,QAAS,WACtEL,EAAaD,EAAOO,MADpB,eCGDC,EAZA,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,MAAOC,EAAe,EAAfA,SAIvB,OACE,yBAAKR,UAAU,gBACb,2BAAOS,QAAQ,UAAf,sBACC,2BAAON,KAAK,OAAOI,MAAOA,EAAOC,SANX,SAAAE,GACzBF,EAASE,EAAMC,OAAOJ,QAK4CK,YAAY,0CCenEC,EAvBM,SAAC,GAAwB,IAAvBC,EAAsB,EAAtBA,QAASC,EAAa,EAAbA,QAE5B,OAAID,EAKA,yBACEE,MAAO,CACLC,MAAOF,EAAU,MAAQ,QACzBG,OAAQ,2BACRC,aAAc,QACdC,SAAU,OACVC,QAAS,cACTC,gBAAiB,QACjBC,OAAQ,gBAGTT,GAfI,M,uCCHTU,EAAU,eAmBD,GAACC,OAjBD,WACX,OAAOC,IAAMC,IAAIH,IAgBGI,OAbZ,uCAAG,WAAMC,GAAN,eAAAC,EAAA,sEACYJ,IAAMK,KAAKP,EAASK,GADhC,cACLG,EADK,yBAEJA,EAASC,MAFL,2CAAH,sDAaoBC,OARpB,uCAAG,WAAO7B,EAAIwB,GAAX,iBAAAC,EAAA,6DACLK,EAAUT,IAAMU,IAAN,UAAaZ,EAAb,YAAwBnB,GAAMwB,GADnC,SAEYM,EAFZ,cAELH,EAFK,yBAGJA,EAASC,MAHL,2CAAH,wDAQ4BI,IAF5B,SAAAhC,GAAE,OAAIqB,IAAMY,OAAN,UAAgBd,EAAhB,YAA2BnB,M,8NCX7C,IAwLekC,EAxLF,WAAO,IAAD,EAGaC,mBAAS,IAHtB,mBAGVC,EAHU,KAGDC,EAHC,OAIaF,mBAAS,IAJtB,mBAIVG,EAJU,KAIDC,EAJC,OAKiBJ,mBAAS,IAL1B,mBAKVK,EALU,KAKCC,EALD,OAMcN,mBAAS,IANvB,mBAMVO,EANU,KAMFC,EANE,OAOeR,mBAAS,IAPxB,mBAOVS,EAPU,KAOAC,EAPA,KAUXC,EAAwB,WAC5B,IAAMC,EAAgBX,EAAQY,MAAK,SAAAC,GAAC,OAAIA,EAAErD,OAAS0C,KAC7CY,EAAkBd,EAAQY,MAAK,SAAAG,GAAC,OAAIA,EAAEtD,SAAW2C,KAEvD,IAAKO,IAAkBG,EACrB,OAAO,EAET,GACEH,IACCK,OAAOC,QAAP,eACSf,EADT,8EACsFE,EADtF,MAID,OAAO,EAET,GACEU,IACCE,OAAOC,QAAP,iBACWb,EADX,4EACwFF,EADxF,MAID,OAAO,EAET,IAAMW,EAAIF,GAAiBG,EACrBlD,EAAKiD,EAAEjD,GAYb,OAVAsD,EACCzB,OAAO7B,E,yVADR,IACgBiD,EADhB,CACmBrD,KAAK0C,EAASzC,OAAO2C,KACvCe,MAAK,SAAAC,GACJnB,EAAWD,EAAQqB,KAAI,SAAAR,GAAC,OAAKA,EAAEjD,KAAOA,EAAKiD,EAAIO,MAC/CjB,EAAW,IACXE,EAAa,OAEdiB,OAAM,SAAAC,GACLC,QAAQC,IAAIF,EAAMhC,cAEb,GAmBTmC,qBAAU,WAERR,EACClC,SACAmC,MAAK,SAAA5B,GACJU,EAAWV,EAASC,SAGrB8B,OAAM,SAAAC,GACLC,QAAQC,IAAIF,EAAMhC,UAClBiC,QAAQC,IAAI,cAEb,IAGH,IAsDKE,EAAkB3B,EAOvB,OANKM,IACFqB,EAAkB3B,EAAQM,QACxB,SAAAO,GAAC,OAAyD,IAArDA,EAAErD,KAAKoE,cAAcC,QAAQvB,EAAOwB,OAAO,SAKnD,yBAAKvE,UAAU,aACb,yCACA,kBAACwE,EAAD,CAAe1D,QAASmC,IAExB,yBAAKjD,UAAU,QACb,0BAAMyE,SAnEI,SAACC,GAEf,GADAA,EAAEC,kBACCxB,IAAH,CAGAc,QAAQC,IAAI,WACZ,IAAMrC,EAAY,CAChB5B,KAAM0C,EACNzC,OAAQ2C,EACRxC,GAAIoC,EAAQmC,OAAS,GAEvBjB,EACC/B,OAAOC,GACP+B,MAAK,SAAA/B,GACJa,EAAWD,EAAQ8B,OAAO1C,IAC1Be,EAAW,IACXE,EAAa,IACbmB,QAAQC,IAAI,gBACZhB,EAAY,sBAAD,OAAuBP,IAClCkC,YAAW,WACT3B,EAAY,QACX,QAEJa,OAAM,SAAAC,GACLd,EAAY,mFACZ2B,YAAW,WACT3B,EAAY,QACX,KACHe,QAAQC,IAAIF,SAwCR,yBAAKhE,UAAU,YACb,yBAAKA,UAAU,QACb,2BAAOS,QAAQ,QAAf,QACA,2BAAON,KAAK,OAAOK,SA3Bb,SAACE,GACjBkC,EAAWlC,EAAMC,OAAOJ,QA0B0BA,MAAOoC,EAAS/B,YAAY,mBAEtE,yBAAKZ,UAAU,QACb,2BAAOS,QAAQ,UAAf,UACA,2BAAON,KAAK,OAAOK,SA1Bb,SAACE,GACjBoC,EAAapC,EAAMC,OAAOJ,QAyBwBA,MAAOsC,EAAWjC,YAAY,sBAG1E,6BACE,4BAAQT,KAAK,SAASH,UAAU,+BAAhC,aAEF,yBAAKA,UAAU,kBA/CJyC,EAAQqB,KAAI,SAAAR,GAAC,OAC9B,kBAAC,EAAD,CACIwB,IAAKxB,EAAEjD,GACPP,OAAQwD,EACRpD,OAAQoD,EAAEpD,OACVH,aAAc,SAACM,GAAD,OArEK,SAACA,GACtB4D,QAAQC,IAAI,iBACZP,EACCtB,IAAIhC,GACJuD,MAAK,SAAA5B,GACJU,EAAWD,EAAQM,QAAO,SAAAO,GAAC,OAAIA,EAAEjD,KAAOA,SAEzC0D,OAAM,SAAAC,GACLC,QAAQC,IAAIF,EAAMhC,aA6DK+C,CAAe1E,YA+CtC,yBAAKL,UAAU,UACb,uCACA,kBAAC,EAAD,CAAQQ,SAAUwC,EAAczC,MAAOwC,IACpC,6BACAqB,EAAgBN,KAAI,SAAAhE,GAAM,OAC3B,yBAAKgF,IAAKhF,EAAOO,IACf,yBAAKL,UAAU,sBACb,yBAAKA,UAAU,YAAYF,EAAOG,KAAlC,KACA,yBAAKD,UAAU,YAAYF,EAAOI,iB,MC/KlD8E,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.ad81772c.chunk.js","sourcesContent":["import React from 'react';\r\n\r\n\r\nconst Person = ({person, deletePerson }) => {\r\n    return (\r\n        <div className=\"mb-2\">\r\n            <div className=\"row border-list\">  \r\n                <div className=\"col-md-10 persons\">\r\n                 {person.name}  {person.number}\r\n                </div>\r\n\r\n                <div className=\"col-md-2\">\r\n                <button type=\"button\" className=\"btn btn-danger button-font\" onClick={() => {\r\n                deletePerson(person.id)}}>Delete</button>\r\n                \r\n                </div>\r\n\r\n            </div>\r\n         \r\n          \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Person","  \r\nimport React from \"react\";\r\n\r\nconst Filter = ({ value, onChange }) => {\r\n  const handleFilterChange = event => {\r\n    onChange(event.target.value);\r\n  };\r\n  return (\r\n    <div className=\"filter-input\">\r\n      <label htmlFor=\"filter\">Filter shown with:</label>\r\n       <input type=\"text\" value={value} onChange={handleFilterChange} placeholder=\"Enter any name to check if it exist\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;","import React from \"react\";\r\n\r\nconst Notificaiton = ({message, isError}) => {\r\n\r\n    if(!message) {\r\n        return null\r\n    }    \r\n    \r\n    return (\r\n        <div\r\n          style={{\r\n            color: isError ? \"red\" : \"green\",\r\n            border: \"0.2em solid currentColor\",\r\n            borderRadius: \"0.3em\",\r\n            fontSize: \"125%\",\r\n            padding: \"0.3em 0.5em\",\r\n            backgroundColor: \"white\",\r\n            margin: \"0.5em 0.5em\"\r\n          }}\r\n        >\r\n          {message}\r\n        </div>\r\n      );\r\n    };\r\n\r\nexport default Notificaiton","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    return axios.get(baseUrl)\r\n}\r\n\r\nconst create = async newPerson => {\r\n    const response = await axios.post(baseUrl, newPerson)\r\n    return response.data\r\n  }\r\n\r\nconst update = async (id, newPerson) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newPerson)\r\n    const response = await request\r\n    return response.data\r\n  }\r\n\r\nconst del = id => axios.delete(`${baseUrl}/${id}`);\r\n\r\nexport default {getAll, create, update, del}\r\n","import React, {useState, useEffect} from 'react'\r\nimport './App.css';\r\nimport Person from './components/Person'\r\nimport Filter from './components/Filter'\r\nimport Notification from './components/Notification'\r\n\r\nimport personService from './services/persons'\r\n\r\nconst  App = () => {\r\n\r\n\r\n  const [persons, setPersons] = useState([]);\r\n  const [newName, setNewName] = useState([]);\r\n  const [newNumber, setNewNumber] = useState([]);\r\n  const [filter, setNewFilter] = useState([]);\r\n  const [errorMsg, setErrorMsg] = useState('');\r\n\r\n  // update request PUT\r\n  const updatePersonAndNumber = () => {\r\n    const personNewName = persons.find(p => p.name === newName);\r\n    const personNewNumber = persons.find(n => n.number === newNumber);\r\n\r\n    if (!personNewName && !personNewNumber) {\r\n      return false;\r\n    };\r\n    if (\r\n      personNewName &&\r\n      !window.confirm(\r\n        `Name ${newName} is already in the phonebook.\\nDo you want to update the number to ${newNumber}?`\r\n      )\r\n    ) {\r\n      return false;\r\n    }\r\n    if (\r\n      personNewNumber &&\r\n      !window.confirm(\r\n        `Number ${newNumber} is already in the phonebook.\\nDo you want to update the name to ${newName}?`\r\n      )\r\n    ) {\r\n      return false;\r\n    }\r\n    const p = personNewName || personNewNumber;\r\n    const id = p.id;\r\n\r\n    personService\r\n    .update(id, {...p, name:newName, number:newNumber})\r\n    .then(updatedPerson => {\r\n      setPersons(persons.map(p => (p.id !== id ? p : updatedPerson)));\r\n      setNewName('');\r\n      setNewNumber('');\r\n    })\r\n    .catch(error => {\r\n      console.log(error.response);\r\n    })\r\n    return true;\r\n  };\r\n\r\n  // delete person by his ID using axios\r\n    const deletePersonId = (id) => {\r\n      console.log('delete person')\r\n      personService\r\n      .del(id)\r\n      .then(response => {\r\n        setPersons(persons.filter(p => p.id !== id))\r\n      })\r\n      .catch(error => {\r\n        console.log(error.response)\r\n      }) \r\n    }\r\n\r\n\r\n\r\n  // effect hook for getting json data\r\n  useEffect(() => {\r\n\r\n    personService\r\n    .getAll()\r\n    .then(response => {\r\n      setPersons(response.data)\r\n\r\n    })\r\n    .catch(error => {\r\n      console.log(error.response)\r\n      console.log('error')\r\n    })\r\n  }, [])\r\n\r\n  // adding new names using json data with axios\r\n  const addName = (e) => {\r\n    e.preventDefault()\r\n    if(updatePersonAndNumber()) {\r\n      return;\r\n    }\r\n    console.log('addName')\r\n    const newPerson = {\r\n      name: newName,\r\n      number: newNumber,\r\n      id: persons.length + 1\r\n    }\r\n    personService\r\n    .create(newPerson)\r\n    .then(newPerson => {   \r\n      setPersons(persons.concat(newPerson))\r\n      setNewName('')\r\n      setNewNumber('')\r\n      console.log('addedNewName')\r\n      setErrorMsg(`Successefuly added ${newName}`)\r\n      setTimeout(() => {\r\n        setErrorMsg(null)\r\n      }, 5000)\r\n    })\r\n    .catch(error => {\r\n      setErrorMsg(`Person validation failed, name or phonenumber must be minimum 5 characters long`)\r\n      setTimeout(() => {\r\n        setErrorMsg(null)\r\n      }, 5000)\r\n      console.log(error)\r\n    })\r\n  }\r\n\r\n\r\n  // maping persons and getting a list of persons\r\n  const rows = () => persons.map(p => \r\n    <Person \r\n        key={p.id} \r\n        person={p}\r\n        number={p.number} \r\n        deletePerson={(id) => (deletePersonId(id))}\r\n    />     \r\n  )\r\n\r\n  // add button event\r\n  const handleAdd = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  // add number event\r\n  const addNumber = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  // filter persons with input element\r\n   let filteredPersons = persons;\r\n   if (filter) {\r\n     filteredPersons = persons.filter(\r\n       p => p.name.toLowerCase().indexOf(filter.concat('')) !== -1\r\n     );\r\n   }\r\n\r\n  return ( \r\n    <div className=\"container\">\r\n      <h2>Phonebook</h2>\r\n      <Notification  message={errorMsg}/>\r\n      \r\n      <div className=\"pt-3\">\r\n        <form onSubmit={addName}>\r\n          <div className=\"form-add\">\r\n            <div className=\"pb-3\">\r\n              <label htmlFor=\"name\">Name</label> \r\n              <input type=\"text\" onChange={handleAdd} value={newName} placeholder=\"Enter name...\"/>\r\n            </div>\r\n            <div className=\"pb-3\">\r\n              <label htmlFor=\"number\">Number</label>\r\n              <input type=\"text\" onChange={addNumber} value={newNumber} placeholder=\"Enter number...\"/>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <button type=\"submit\" className=\"btn btn-primary button-font\">Add Name</button>\r\n          </div>\r\n          <div className=\"phonebook-list\">{rows()}</div>\r\n         \r\n        </form>\r\n      </div>\r\n\r\n        <div className=\"filter\">\r\n          <h2>Numbers</h2>\r\n          <Filter onChange={setNewFilter} value={filter}  />\r\n            {<div>\r\n            {filteredPersons.map(person => \r\n            <div key={person.id}>\r\n              <div className=\"row filter-persons\">\r\n                <div className=\"col-md-3\">{person.name} </div>\r\n                <div className=\"col-md-3\">{person.number}</div>\r\n              </div>\r\n            </div>)}\r\n          </div>}\r\n        </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.scss';\r\nimport App from './App';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\n\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n"],"sourceRoot":""}